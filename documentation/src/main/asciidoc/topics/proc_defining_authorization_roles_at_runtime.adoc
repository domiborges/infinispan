[id='defining-authorization-roles-at-runtime_{context}']
= Defining authorization roles at runtime

Define custom authorization roles at runtime and associate them with different levels of permissions.
{brandname} uses `ClusterPermissionMapper` as the default mechanism to store authorization roles defined at runtime. It stores data in the persistent data directory.

.Prerequisites

* Have authorization enabled in the global configuration.

.Procedure

* Define new authorization roles in one of the following ways:

** Embedded caches:
Obtain the instance of the `RolePermissionMapper` and use the `addRole()` method to define new roles.
+
[source,java,options="nowrap",subs=attributes+]
----
include::code_examples/EmbeddedAuthorizationAddRole.java[]
----

** Remote caches:
Define roles and their permissions using the CLI.
+
[source,bash,options="nowrap",subs=attributes+]
----
[//containers/default]> user roles create --permissions=ALL_WRITE,LISTEN wizard
[//containers/default]> user roles create --permissions=READ,WRITE cleric
----
